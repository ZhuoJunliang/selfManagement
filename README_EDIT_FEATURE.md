# 行程管理功能說明

## 功能概述

現在使用者可以在所有視圖模式（日模式、週模式、月模式）中：

- 點擊任何行程項目來編輯或刪除活動內容
- 使用新增按鈕來創建新的活動

## 使用方法

### 新增活動

1. **日模式**：點擊右下角的藍色「+」按鈕
2. **週模式**：點擊右下角的藍色「+」按鈕
3. **月模式**：點擊右下角的藍色「+」按鈕
4. 在彈出的新增視窗中：
   - 選擇活動類型（圖標和顏色）
   - 設定起始時間（日期和時間）
   - 設定結束時間（日期和時間）
5. 點擊「儲存」按鈕創建新活動

### 編輯活動

1. 在任何視圖模式中，點擊行程項目
2. 會彈出編輯視窗，顯示當前活動的詳細資訊
3. 可以修改：
   - 活動類型（圖標和顏色）
   - 起始時間（日期和時間）
   - 結束時間（日期和時間）
4. 點擊「儲存」按鈕保存修改

### 刪除活動

1. 在編輯視窗中，點擊「刪除」按鈕
2. 確認刪除操作
3. 活動將被永久刪除

## 視覺提示

- 行程項目在滑鼠懸停時會顯示背景色變化
- 可點擊的項目會顯示手型游標
- 新增按鈕為藍色圓形「+」按鈕，位於右下角，懸停時會放大
- 編輯視窗與新增活動視窗使用相同的設計風格

## 技術實現

### 新增組件

- `EditActivityPopup.vue` - 編輯活動的彈出視窗組件

### 修改的組件

- `DetailedItineraryArea.vue` - 添加週模式和月模式的新增按鈕
- `DayMode.vue` - 添加點擊編輯功能
- `WeekMode.vue` - 添加點擊編輯功能
- `MonthMode.vue` - 添加點擊編輯功能
- `dataService.js` - 添加重新載入數據功能

### 功能特點

- 支援所有活動類型的編輯和新增
- 時間驗證（結束時間不能早於起始時間）
- 表單驗證
- 即時數據更新
- 錯誤處理和用戶提示
- 統一的用戶界面設計

## 檔案結構

```
src/components/
├── EditActivityPopup.vue    # 新增：編輯活動視窗
├── AddActivityPopup.vue     # 現有：新增活動視窗
├── DetailedItineraryArea.vue # 修改：添加週模式和月模式的新增按鈕
├── DayMode.vue             # 修改：添加編輯功能
├── WeekMode.vue            # 修改：添加編輯功能
└── MonthMode.vue           # 修改：添加編輯功能

src/services/
└── dataService.js          # 修改：添加重新載入功能
```

## 注意事項

- 編輯活動時會先刪除原始活動，再創建新的活動
- 刪除操作不可撤銷，請謹慎使用
- 所有修改都會即時反映在界面上
- 支援跨日期的活動編輯和新增
- 新增按鈕統一位於右下角，便於操作
